<h1>Applications Dashboard</h1>
<a (click)="openDialog()" class="btn btn-md btn-success mb-4"><fa-icon [icon]="faPlus" class="p-1"></fa-icon>New
    Application</a>

<div class="shadow-sm p-4 bg-white rounded">
    <div class="d-flex justify-content-end mb-3">
        <mat-form-field appearance="outline">
            <mat-label>Search</mat-label>
            <input matInput (keyup)="applyFilter($event)" #input>
            <mat-icon matSuffix class="p-3"><fa-icon [icon]="faSearch"></fa-icon></mat-icon>
        </mat-form-field>
    </div>

    <table mat-table [dataSource]="dataSource">
        <!-- Center Column -->
        <ng-container matColumnDef="center">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Center </th>
            <td mat-cell *matCellDef="let application" class="py-4"> {{application.center}} </td>
        </ng-container>

        <!-- Appointment Sub Category Column -->
        <ng-container matColumnDef="appointment_sub_category">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> SubCategory </th>
            <td mat-cell *matCellDef="let application" class="py-4"> {{application.appointment_sub_category}} </td>
        </ng-container>

        <!-- Booking Period Column -->
        <ng-container matColumnDef="booking_period">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Booking Period </th>
            <td mat-cell *matCellDef="let application" class="py-4"> {{application.booking_period}} </td>
        </ng-container>

        <!-- Comments for Agents Column -->
        <ng-container matColumnDef="comments_for_agents">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Comments </th>
            <td mat-cell *matCellDef="let application" class="py-4"> {{application.comments_for_agents}} </td>
        </ng-container>

        <!-- Service Type Column -->
        <ng-container matColumnDef="service_type">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>  Type </th>
            <td mat-cell *matCellDef="let application" class="py-4"> {{application.service_type}} </td>
        </ng-container>

        <!-- Agence Convention Name Column -->
        <ng-container matColumnDef="agence_convention_name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Agence Convention Name </th>
            <td mat-cell *matCellDef="let application" class="py-4"> {{application.agence_convention_name}} </td>
        </ng-container>

        <!-- Agency Mobile 1 Column -->
        <ng-container matColumnDef="agency_mobile">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Agency Mobile</th>
            <td mat-cell *matCellDef="let application" class="py-4"> {{application.agency_mobile_1}} / {{application.agency_mobile_2}} </td>
        </ng-container>


        <!-- Actions Column -->
        <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef> Actions </th>
            <td mat-cell *matCellDef="let application" class="py-4">
                <!-- Add action buttons here -->
                <a routerLink="view/{{application.id}}" class="btn btn-md btn-primary">
                    <fa-icon [icon]="faEye" class="m-1"></fa-icon>
                </a>
                <a routerLink="edit/{{application.id}}" class="btn btn-md btn-warning m-2">
                    <fa-icon [icon]="faEdit" class="m-1"></fa-icon>
                </a>
                <button class="btn btn-md btn-danger btn-delete-client" (click)="deleteApplication(application.id)">
                    <fa-icon [icon]="faTrash" class="m-1"></fa-icon>
                    
                </button>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let application; columns: displayedColumns;"></tr>

        <!-- Row shown when there is no matching data. -->
        <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" colspan="9">No data matching the filter "{{input.value}}"</td>
        </tr>
    </table>

    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons aria-label="Select page of clients"
        class="mt-5">
    </mat-paginator>
</div>